<div data-ng-controller="UnidadeCadastroCtrl as ctrl" data-ng-init="ctrl.init();">

	<div class="bg-building">
		<div class="section no-pad-bot dark-bg z-depth-3">
			<div class="container">
				<div class="row center">
					<h1 class="white-text light">{{ctrl.editing ? 'Edição de anúncio' : 'Novo anúncio'}}</h1>
				</div>
			</div>
		</div>
	</div>

	<div class="grey lighten-4 form-imovel">
		<div class="container box-busca-home spaced-block">
			<form id="form_criar">

				<div class="card">
					<div class="card-content">

						<div class="row spaced-row">
							<div class="col s12 center">
								<h2 class="header light big-text black-text">Qual a localização do imóvel?</h2>
							</div>
						</div>

						<div class="row spaced-row">
							<div class="input-field col s12 m6 push-m3 l4 push-l4">
								<input id="input_cep" name="input_cep" type="text" class="validate cep-cadastro-anuncio"
									pattern="^[0-9]{5}-?[0-9]{3}$" data-mask="00000-000"
									data-ng-model="ctrl.anuncio.enderecoAnuncio.numCep" data-ng-change="ctrl.buscaCep()">
								<p class="center"><a href="http://www.buscacep.correios.com.br/sistemas/buscacep/" target="_blank">Esqueceu seu CEP?</a></p>
								<label for="input_cep">CEP</label>
							</div>
						</div>

						<div class="row spaced-row">
							<div class="col s12 center">
								<h2 class="header light big-text black-text">Complemente o endereço do imóvel que você está vendendo</h2>
							</div>
						</div>

						<div class="row spaced-row">
							<div class="input-field col s12 m6 l4 push-l1">
								<input id="input_logradouro" name="input_logradouro" type="text" class="validate"
									data-ng-model="ctrl.anuncio.enderecoAnuncio.nomLogradouro">
								<label for="input_logradouro">Endereço</label>
							</div>
							<div class="input-field col s12 m2 l3 push-l1">
								<input id="input_unidade" name="input_unidade" type="text" class="validate"
									pattern="^[0-9]*$" data-mask="#######0"
									data-ng-model="ctrl.anuncio.enderecoAnuncio.numEndereco">
								<label for="input_unidade">Número</label>
							</div>
							<div class="input-field col s12 m4 l3 push-l1">
								<input id="input_complemento" name="input_complemento" type="text" class="validate"
									data-ng-model="ctrl.anuncio.enderecoAnuncio.nomComplemento">
								<label for="input_complemento">Complemento</label>
							</div>
						</div>

						<div class="row spaced-row">
							<div class="input-field col s12 m2 l2 push-l1">
								<input id="input_uf" name="input_uf" type="text" class="validate"
									data-ng-model="ctrl.anuncio.enderecoAnuncio.sgUF">
								<label for="input_uf">UF</label>
							</div>
							<div class="input-field col s12 m6 l4 push-l1">
								<input id="input_localidade" name="input_localidade" type="text" class="validate"
									data-ng-model="ctrl.anuncio.enderecoAnuncio.nomCidade">
								<label for="input_localidade">Município</label>
							</div>
							<div class="input-field col s12 m4 l4 push-l1">
								<input id="input_bairro" name="input_bairro" type="text" class="validate"
									data-ng-model="ctrl.anuncio.enderecoAnuncio.nomBairro">
								<label for="input_bairro">Bairro</label>
							</div>
						</div>

						<div class="row spaced-row">
							<div class="col s12 center">
								<h2 class="header light big-text black-text">Se necessário, mova o marcador para a localização exata do imóvel</h2>
							</div>
						</div>

						<div id="maps" class="row maps"></div>
					</div>
				</div>

				<div class="card">
					<div class="card-content">

						<!--
						<div class="row spaced-row center">
							<div class="col s12 center">
							<h3 class="header light medium-text">Até quando o anúncio deve ser exibido?</h3>
							</div>
						</div>

						<div class="row spaced-row">
							<div class="input-field col s12 m6 push-m3 l4 push-l4">
								<input id="input_unidades" name="input_unidades" type="text" class="validate datepicker date-format"
									data-ng-model="ctrl.anuncio.dataExpiracao" />
								<label for="input_unidades">Data final para o anúncio</label>
							</div>
						</div>
						-->

						<div class="row center spaced-row">
							<div class="col s12 center">
								<h2 class="header light big-text black-text">Qual tipo de imóvel você quer vender? *</h2>
							</div>

							<div class="col s4 m3 push-m1 l2 push-l3 top-radio">
								<input class="with-gap tipo-imovel" name="input_tipo[0]" type="radio" id="input_tipo1" value="1"
									data-ng-model="ctrl.anuncio.unidadeAnuncios[0].codTipoUnidade" />
								<label for="input_tipo1"><i class="material-icons large waves-effect waves-light {{ctrl.anuncio.unidadeAnuncios[0].codTipoUnidade == 1 ? 'blue-text text-darken-3' : ''}}">home</i><br />Casa</label>
							</div>
							<div class="col s4 m4 push-m1 l2 push-l3 top-radio">
								<input class="with-gap tipo-imovel" name="input_tipo[0]" type="radio" id="input_tipo2" value="2"
									data-ng-model="ctrl.anuncio.unidadeAnuncios[0].codTipoUnidade" />
								<label for="input_tipo2"><i class="material-icons large waves-effect waves-light {{ctrl.anuncio.unidadeAnuncios[0].codTipoUnidade == 2 ? 'blue-text text-darken-3' : ''}}">business</i><br />Apartamento</label>
							</div>
							<div class="col s4 m3 push-m1 l2 push-l3 top-radio">
								<input class="with-gap tipo-imovel" name="input_tipo[0]" type="radio" id="input_tipo3" value="3"
									data-ng-model="ctrl.anuncio.unidadeAnuncios[0].codTipoUnidade" />
								<label for="input_tipo3"><i class="material-icons large waves-effect waves-light {{ctrl.anuncio.unidadeAnuncios[0].codTipoUnidade == 3 ? 'blue-text text-darken-3' : ''}}">store</i><br />Loja</label>
							</div>
						</div>

						<div class="row spaced-row">
							<div class="col s12">
								<p class="center small-text light">* Neste momento está indisponível a possibilidade de anunciar terrenos.</p>
							</div>
						</div>

						<div class="row spaced-row center">
							<div class="input-field col s12 m12 l10 push-l1">
								<input id="input_descricao_unidade0" name="input_descricao_unidade[0]" type="text"
									pattern="^.+$" class="validate"
									data-ng-model="ctrl.anuncio.unidadeAnuncios[0].txtTitulo" maxlength="50" />
								<label for="input_descricao_unidade0">Título</label>
							</div>
						</div>

						<div class="row spaced-row">
							<div class="input-field col s12 l10 push-l1">
								<textarea name="input_descricao" id="input_descricao" class="materialize-textarea"
									data-ng-model="ctrl.anuncio.txtDescricao"></textarea>
								<label for="input_descricao">Breve descrição</label>
							</div>
						</div>

						<div class="row center">
							<div class="col s12 m4 l3 push-l1" data-ng-if="ctrl.anuncio.unidadeAnuncios[0].codTipoUnidade != 3">
								<i class="bi-icon large bed"></i>
								<div class="input-field">
									<select id="input_quartos0" name="input_quartos[0]" class="material-select"
										data-ng-model="ctrl.anuncio.unidadeAnuncios[0].caracteristicaUnidades[0].vlrCaracteristica"
										ng-options="item.value as item.label for item in ctrl.quartos">
										<option value="" selected disabled>Selecione</option>
									</select>
									<label for="input_quartos0">Quartos</label>
								</div>
							</div>
							<div class="col s12 m4 l3 push-l1" data-ng-if="ctrl.anuncio.unidadeAnuncios[0].codTipoUnidade == 3">
								<i class="bi-icon large room"></i>
								<div class="input-field">
									<select id="input_room0" name="input_room[0]" class="material-select"
										data-ng-model="ctrl.anuncio.unidadeAnuncios[0].caracteristicaUnidades[3].vlrCaracteristica"
										ng-options="item.value as item.label for item in ctrl.rooms">
										<option value="" selected disabled>Selecione</option>
									</select>
									<label for="input_quartos0">Salas</label>
								</div>
							</div>
							<div class="col s12 m4 l4 push-l1">
								<i class="bi-icon large bath"></i>
								<div class="input-field">
									<select id="input_banheiros0" name="input_banheiros[0]" class="material-select"
										data-ng-model="ctrl.anuncio.unidadeAnuncios[0].caracteristicaUnidades[1].vlrCaracteristica"
										ng-options="item.value as item.label for item in ctrl.banheiros">
										<option value="" selected disabled>Selecione</option>
									</select>
									<label for="input_banheiros0">Banheiros</label>
								</div>
							</div>
							<div class="col s12 m4 l3 push-l1">
								<i class="bi-icon large park"></i>
								<div class="input-field">
									<select id="input_garagem0" name="input_garagem[0]" class="material-select"
										data-ng-model="ctrl.anuncio.unidadeAnuncios[0].caracteristicaUnidades[2].vlrCaracteristica"
										ng-options="item.value as item.label for item in ctrl.garagens">
										<option value="" selected disabled>Selecione</option>
									</select>
									<label for="input_garagem0">Garagem</label>
								</div>
							</div>
						</div>

						<div class="row center">
							<div class="input-field col s12 m6 l5 push-l1">
								<input id="input_valor0" name="input_valor[0]" type="text"
									placeholder="R$" class="validate right-align"
									data-mask-reverse="true" data-mask="#.###.##0,00" maxlength="18"
									data-ng-model="ctrl.anuncio.unidadeAnuncios[0].vlrUnidadeFull" />
								<label for="input_valor" data-error="Valor em Reais">Valor</label>
							</div>
							<div class="input-field col s12 m6 l5 push-l1">
								<input id="input_area_privativa0" name="input_area_privativa[0]" type="text"
									placeholder="m²" class="validate right-align"
									data-mask-reverse="true" data-mask="#.###.##0,00" maxlength="13"
									data-ng-model="ctrl.anuncio.unidadeAnuncios[0].qtdAreaUnidadeFull" />
								<label for="input_area_privativa0" data-error="Valor em m²">Área privativa</label>
							</div>
						</div>
						<div class="row spaced-row center">
							<h3 class="header light medium-text">Fale mais sobre o imóvel e condomínio</h3>
							<div class="input-field col s12 m12 l10 push-l1">
								<select id="input_amenities" name="input_amenities" class="material-select" multiple
									data-ng-model="ctrl.anuncio.comodidadeAnuncios"
									data-ng-options="comodidade.nomTipoComodidade for comodidade in ctrl.comodidades track by comodidade.codTipoComodidade">
									<option value="" disabled>Selecione</option>
								</select>
								<label for="input_amenities">Comodidades</label>
							</div>
						</div>

						<div class="row spaced-row center">
							<h3 class="header light medium-text">Adicione fotos do imóvel</h3>

							<div class="input-field col s12 l10 push-l1">
								<div class="file-field input-field">
									<div class="col s12 btn-large waves-effect grey lighten-3">
										<span class="black-text">Selecione as fotos</span>
										<input class="anuncio-foto" type="file" multiple
											data-nv-file-select data-uploader="uploader" options="{id: '0'}" />
									</div>
								</div>
							</div>
						</div>

						<div class="row spaced-row center">
							<div class="col s12 l10 push-l1" id="galeria0">

								<div class="photo-container col s12 m6 l4 xl3" data-ng-repeat="media in ctrl.anuncio.unidadeAnuncios[0].mediaUnidadeAnuncios">
									<img data-ng-click="ctrl.mudarFotoCapa(media.codDocumento, 0)" width="100%" class="card pointer hoverable {{media.codDocumento == ctrl.anuncio.unidadeAnuncios[0].codDocumentoCapa ? 'foto-de-capa' : ''}}" data-ng-src="{{media.txtSrcThumb}}" />
									<div class="card-photo-icons ng-scope">
										<a class="btn-floating waves-effect red darken-3" data-tooltip="Remover foto"
											data-ng-click="ctrl.removerFoto(media.codDocumento, 0)">
											<i class="material-icons">delete</i>
										</a>
										<i class="material-icons btn-floating small blue darken-4" data-tooltip="Foto de capa"
											data-ng-if="media.codDocumento == ctrl.anuncio.unidadeAnuncios[0].codDocumentoCapa">panorama</i>
									</div>
								</div>

							</div>
						</div>
					</div>
				</div>

				<div class="card">
					<div class="card-content">
						<div class="row spaced-row">
							<div class="col s12 center">
								<h2 class="header light big-text black-text">Indique quando você pode receber visita</h2>
							</div>
						</div>
						<div class="row spaced-row center">
							<div class="col s12 l10 push-l1 tabela-semana">
								<table class="striped">
									<thead>
										<tr>
											<th></th>
											<th class="center"><span class="hide-on-small-only">Domingo</span><span class="hide-on-med-and-up">D</span></th>
											<th class="center"><span class="hide-on-small-only">Segunda</span><span class="hide-on-med-and-up">S</span></th>
											<th class="center"><span class="hide-on-small-only">Terça</span><span class="hide-on-med-and-up">T</span></th>
											<th class="center"><span class="hide-on-small-only">Quarta</span><span class="hide-on-med-and-up">Q</span></th>
											<th class="center"><span class="hide-on-small-only">Quinta</span><span class="hide-on-med-and-up">Q</span></th>
											<th class="center"><span class="hide-on-small-only">Sexta</span><span class="hide-on-med-and-up">S</span></th>
											<th class="center"><span class="hide-on-small-only">Sábado</span><span class="hide-on-med-and-up">S</span></th>
										</tr>
									</thead>
									<tbody>
										<tr data-ng-repeat="(k, j) in ['Manhã','Tarde','Noite']">
											<td class="right">{{j}}</td>
											<td data-ng-repeat="i in [0,1,2,3,4,5,6]">
												<p class="center">
													<input type="checkbox" id="input_semana_{{k}}_{{i}}" name="input_semana[k][i]"
													data-ng-model="ctrl.agendaAnuncios[k][i]" />
													<label for="input_semana_{{k}}_{{i}}"></label>
												</p>
											</td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>

					</div>
				</div>

				<div class="row spaced-row center">
					<div class="col s12 l10 push-l1">
						<button data-ng-click="ctrl.submit(ctrl.anuncio)" class="btn-large waves-effect blue darken-4">{{ctrl.editing?'Gravar alterações':'Gravar anúncio'}}</button>
					</div>
				</div>
			</form>

		</div>
	</div>

</div>
